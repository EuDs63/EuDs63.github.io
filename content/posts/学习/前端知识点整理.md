---
title: 前端知识点整理
slug: frontend_points
date: 2024-03-07T15:34:14+08:00
tags:
  - 笔记
  - 前端
  - web
categories:
  - 学习
summary: 自己学习过程中整理的关于前端的知识点
--- 
**本文记录了我学习过程中整理的前端相关的知识点,以摘抄为主，绝大部分非原创。未能全部都标明出处，在此致歉**

## 前言
### 为什么选择前端
前端和后端，我选择将前端作为我的主要技术栈。这和我个人的学习习惯有关。

我喜欢学以致用,对于一门尚未掌握的技术，我倾向于先看文档看个百分之二三十,有个大体的了解后，就开始动手去做。但后端的微服务等技术，我缺乏实际的实践环境，没法实践去应用，学起来就感觉很虚。

但前端不太一样。在我自己的项目中，为了实现更快的响应时间、更实用美观的界面，我有充分的动力去学习新的技术，然后将其运用，这形成了一个正反馈的过程。比如说我去年用webassembly写了一个[Game of Life](https://lifegame.ds63.eu.org/)，当我对代码进行优化后，我确实能看到帧数肉眼可见地提升了。

### 为什么要记八股
最近在准备找实习，网上的八股光看也不太能记得住，还得是自己整理记录下。

我之前有点认为记八股是一种应试行为，有点抵触。但有天晚上我排查[EuDs63/postkid](https://github.com/EuDs63/postkid)出现的一个问题,为了完全搞懂，我就自发地去搜React的生命周期。

这时候我意识到八股的那些问题，其实不少是蛮常见的问题。要写好代码确实得去知道。

看[面试官视角下的技术面——为什么要“背八股”_牛客网](https://www.nowcoder.com/discuss/590189774611247104)。

如果被问八股，要学会自己主动去延伸，进而在一定程度上把握面试的主动权。

## 安全
### xss攻击
- Cross-Site Scripting（跨站脚本攻击）简称 XSS，是一种代码注入攻击。攻击者通过在目标网站上注入恶意脚本，使之在用户的浏览器上运行。利用这些恶意脚本，攻击者可获取用户的敏感信息如 Cookie、SessionID 等，进而危害数据安全。
- 三种类型:

  |类型|存储区|插入点| 
  |---|---|---| 
  |存储型 XSS|后端数据库| HTML | 
  |反射型 XSS| URL | HTML | 
  |DOM 型 XSS|后端数据库/前端存储/URL|JavaScript|
- DOM 型 XSS 跟前两种 XSS 的区别：DOM 型 XSS 攻击中，取出和执行恶意代码由浏览器端完成，属于前端 JavaScript 自身的安全漏洞，而其他两种 XSS 都属于服务端的安全漏洞。
- 防范
  1. 阻止攻击者提交恶意代码
     - 输入过滤： 道高一尺魔高一丈，难 
     - 输入长度限制
  2. 防止浏览器执行恶意代码
     - 预防存储型和反射型 XSS 攻击
       - 改成纯前端渲染，把代码和数据分隔开。
       - 对 HTML 做充分转义
     - 预防 DOM 型 XSS 攻击
  3. 利用 CSP 来抵御或者削弱 XSS 攻击，一个 CSP 兼容的浏览器将会仅执行从白名单域获取到的脚本文件，忽略所有的其他脚本
  4. 对关键 Cookie 设置 http-only 属性
- 参考：
  - [前端安全系列（一）：如何防止XSS攻击？ - 美团技术团队](https://tech.meituan.com/2018/09/27/fe-security.html)
  - [Cross-site scripting（跨站脚本攻击） - MDN Web 文档术语表：Web 相关术语的定义 | MDN](https://developer.mozilla.org/zh-CN/docs/Glossary/Cross-site_scripting)
  - [Example](https://urdusecurity.blogspot.com/2014/04/xss-chalenges-bypass.html)
  - [浅谈 React 中的 XSS 攻击 - 掘金](https://juejin.cn/post/6874743455776505870)
  - [内容安全策略（CSP） - HTTP | MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP)

### JavaScript Prototype 污染攻击
- 参考
  - [深入理解 JavaScript Prototype 污染攻击 | 离别歌](https://www.leavesongs.com/PENETRATION/javascript-prototype-pollution-attack.html)
  - [继承与原型链 - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain)
- `prototype`是一个类的属性，所有类对象在实例化的时候将会拥有prototype中的属性和方法
- 一个对象的`__proto__`属性，指向这个对象所在的类的`prototype`属性

### CSRF
- CSRF（Cross-site request forgery）跨站请求伪造：攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的。
- 特点:
  - CSRF（通常）发生在第三方域名。
  - CSRF攻击者不能获取到Cookie等信息，只是使用
- 防护策略
  - 阻止不明外域的访问
    - 同源检测
      - 使用Origin Header确定来源域名
      - 使用Referer Header确定来源域名
      - 如果直接在本域发起攻击，同源策略无法达到防护的作用
    - Samesite Cookie
  - 提交时要求附加本域才能获取的信息
    - CSRF Token
      - 我们可以要求所有的用户请求都携带一个CSRF攻击者无法获取到的Token。服务器通过校验请求是否携带正确的Token，来把正常的请求和攻击的请求区分开，也可以防范CSRF的攻击
    - 双重Cookie验证
      - 难以做到子域名的隔离

- 参考：
  - [前端安全系列（二）：如何防止CSRF攻击？ - 美团技术团队](https://tech.meituan.com/2018/10/11/fe-security-csrf.html)

---

## Html 
### [表单数据校验 - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/Forms/Form_validation)

### 锚点
- 示例
```JavaScript
<a href="#javascript深入之重新认识箭头函数的this" aria-hidden="true" class="header-anchor">#</a>
```
- `aria-hidden="true"` 属性通常用于指示屏幕阅读器等辅助技术，告知它们该元素对用户来说是不可见的，因此屏幕阅读器会忽略该元素。
- 参考 [<a>：锚元素 - HTML（超文本标记语言） | MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a)

### HTML5语义化
- title v.s. h1 
- strong v.s. b 
---

## 浏览器
### 浏览器一帧都会干些什么？
1. 接受输入事件
2. 执行事件回调
3. 开始一帧
4. 执行 RAF (RequestAnimationFrame)
5. 页面布局，样式计算
6. 绘制渲染
7. 执行 RIC (RequestIdelCallback)

### 浏览器引擎的工作原理
wip 
- [一次看懂V8引擎与JIT原理V8 V8 是什么 Google V8 是开源高性能 JavaScript 和 WebAss - 掘金](https://juejin.cn/post/7179130165262286885 )

### 浏览器事件循环

### 输入URL到页面渲染的过程
- DNS 查询顺序
  1. 浏览器 DNS 缓存
  2. 浏览器调用 getaddrinfo() 查询数据，其中 getaddrinfo() 会根据如下顺序查询
     1. 先看 /etc/hosts 文件
     2. 通过主机名服务/mDNS 查询
     3. 通过 systemd-resolved 查询
     4. 最后通过 DHCP 下发的 DNS 查询
     5. 一级级往上查询直到根 DNS 服务器
- 参考
  - [重新思考浏览器输入了 URL 并按下回车之后到底发生了什么——本地 DNS 部分 | Nova Kwok's Awesome Blog](https://nova.moe/rethink-type-url-dns/)
  - [(1w字)前端都该懂的浏览器工作原理，你懂了吗？ - 知乎](https://zhuanlan.zhihu.com/p/140700610)
  - [从输入 URL 到页面展示到底发生了什么？ - 知乎](https://zhuanlan.zhihu.com/p/133906695)

### script标签中的defer和async的区别？

### 兼容
- 例:
```JavaScript
addEventListener("paste", (event) => {
  event.preventDefault();
  //兼容不同浏览器中获取剪贴板数据的方式
  let paste = (event.clipboardData || window.clipboardData).getData("text");
  paste = paste.toUpperCase();
  const selection = window.getSelection();
  if (!selection.rangeCount) return; //检查是否存在文本范围
  selection.deleteFromDocument();
  selection.getRangeAt(0).insertNode(document.createTextNode(paste));
  selection.collapseToEnd();
});

```

## TypeScript
### interface v.s. type
- An interface can be named in an extends or implements clause, but a type alias for an object type literal cannot.
- An interface can have multiple merged declarations, but a type alias for an object type literal cannot.
- 参考[Typescript 中的 interface 和 type 到底有什么区别 - 掘金](https://juejin.cn/post/6844903749501059085)
- 可以互相拓展
  ```TypeScript
  // interface extends type
  type Name = { 
    name: string; 
  }
  interface User extends Name { 
    age: number; 
  }

  // type extends interface
  interface Name { 
    name: string; 
  }
  type User = Name & { 
    age: number; 
  }
  ```
- interface 能够声明合并
  ```TypeScript
  interface User {
    name: string
    age: number
  }
  interface User {
    sex: string
  }

  /*
  User 接口为 {
    name: string
    age: number
    sex: string 
  }
  */
  ```
- 用interface描述**数据结构**
- 用type描述**类型关系**

### 联合类型（Union Types）
- 参考[TypeScript类型守卫、联合类型、交叉类型 - 古兰精 - 博客园](https://www.cnblogs.com/goloving/p/15422728.html)
- 通过 `&` 运算符可以将现有的多种类型叠加到一起成为一种类型

### 类型守卫
- 作用：确保所使用的类型均可以正常使用，从而针对不同类型，使用不同的业务处理。
- 示例：
```TypeScript
function evaluatePrice(vehicle: Vehicle) {
  switch(vehicle.vType) {
    case "car":
      return vehicle.transmission * EVALUATION_FACTOR;
    case "truck":
      return vehicle.capacity * EVALUATION_FACTOR;
    case "motorcycle":
      return vehicle.make * EVALUATION_FACTOR;
  }
}
```

### 交叉类型
- 参考[TypeScript类型守卫、联合类型、交叉类型 - 古兰精 - 博客园](https://www.cnblogs.com/goloving/p/15422728.html)
- 通过 & 运算符可以将现有的多种类型叠加到一起成为一种类型
- 同名基础类型属性的合并： 需要判断是否可能存在，不存在则为`never`
- 同名非基础类型属性的合并：示例:
  ```TypeScript
  interface D { d: boolean; }
  interface E { e: string; }
  interface F { f: number; }

  interface A { x: D; }
  interface B { x: E; }
  interface C { x: F; }

  type ABC = A & B & C;

  let abc: ABC = {
    x: {
      d: true,
      e: '***',
      f: 666
    }
  };
  ```

### 泛型

---

## 杂项
### SVG 
- 全称: Scalable Vector Graphics(可缩放矢量图形)
- 介于DOM和Canvas之间，既提供了图形的绘制能力，又提供了元素的DOM交互能力
- 特点
  - SVG不存在回流这种布局问题，最多也就是重绘。但是DOM的动画就可能导致回流。
  - SVG是矢量图形，而Canvas绘制的是位图
  - 当屏幕尺寸越大时，SVG的渲染速度差异不大，但是Canvas的渲染时长明显增加
  - 当绘制对象过多时，SVG的渲染时长指数增加，Canvas保持稳定增长
  - Canvas不支持DOM事件
- 参考 
  - [重学SVG](https://padaker.com/blog/post/605daf77cb81362ed96f2fca)
  - [超实用教程 - SVG Icon封装](https://padaker.com/blog/post/62300759cb81362ed96f2ff1)

### Babel 
- [Babel · Babel](https://babeljs.io/)

### REST API
- [REST API 与 RESTful API 面试题答案 | arry老师的博客-艾编程](https://www.arryblog.com/interview/advanced/restapi.html)

### JWT (Json Web Token)
见[进一步学习jwt]

### 路由
- `pushState`
  - 在改变url的同时向浏览器历史栈中压入新的历史记录,且不会重新加载页面
  - 接受三个参数：状态对象，新状态的标题和可选的相对URL(不能跨域，即协议，域名，端口必须都是相同的)
- `replaceState`
- `popState`
  - 在浏览器提供的history对象上还有go, back方法，用以模拟用户点击浏览器的前进后退按钮。在某个web应用当中，比如点击了<a>标签，发生了页面的跳转。这时调用history.back()方法后页面回退，同时页面发生刷新,这时window.onpopstate无法监听这个事件。但是如果是通过pushState或者replaceState来改变URL且不发生浏览器刷新的话，再使用history.back()或history.go(),这样popstate事件会被触发。
- 参考
  - [前端路由的实现(三) —— History的pushState和replaceState用法 - baoyadong - 博客园](https://www.cnblogs.com/xuzhudong/p/8886752.html )


### 瀑布流 
如何实现的长列表？
瀑布流 如何实现的长列表？
你是如何判断谁是底部元素的？
如果一次只请求10条数据，前端只展示了5条数据，如何判断底部元素的交叉状态？

### git merge和 git rebase的区别



### 实现一个Dialog模板
[面试题：React实现一个Dialog模板_react dialog-CSDN博客](https://blog.csdn.net/qq_45856669/article/details/126577449)

### html5新特性 

### 实现个栈（用了好几种方法实现，包括最原始的单链表），还讲了讲symbol等乱七八糟的东西

### jsBridge原理

### js的for in和for of区别，如何把一个对象变成可迭代对象（实现[Symbol.iteractor]属性）

### Proxy对象能拦截什么

### jss
- [JSS](https://cssinjs.org/?v=v10.10.1 )

### 字体反爬
- [前端字体反爬原理 | ShyMean](https://www.shymean.com/article/%E5%89%8D%E7%AB%AF%E5%AD%97%E4%BD%93%E5%8F%8D%E7%88%AC%E5%8E%9F%E7%90%86 )

## 参考
- [前端基础知识 · GitBook](https://smileyqp.github.io/frontend_book/)
- [miracle90/Interview: 前端八股文大全！](https://github.com/miracle90/Interview/tree/master)
- [web前端面试 - 面试官系列](https://vue3js.cn/interview/)
- [【布客】八股文知识库](https://bgww.apachecn.org/)
- [Yingkaixiang's Blog](https://yingkaixiang.github.io/blog/)
- [现代 JavaScript 教程](https://zh.javascript.info/)
- [JavaScript Guidebook](https://tsejx.github.io/javascript-guidebook//)
- [前端校招知识点总结 · Issue #1 · yiliang114/Blog](https://github.com/yiliang114/Blog/issues/1)